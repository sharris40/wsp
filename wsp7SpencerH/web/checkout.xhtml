<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
  <h:head><meta charset="utf-8"/>
    <title>Checkout</title>
    <h:outputStylesheet library="Styles" name="books.css" />
  </h:head>
  <h:body>
    <div class="contents">
      <h1>Checkout Complete.</h1>
      <p>You have successfully checked out. Here are the details of the
        order.</p>

      <h:dataTable class='cart' rowClasses='odd,even'
                   value="#{shoppingCart.order.keySet().toArray()}" var="item">
        <f:facet name="caption">The Contents of Shopping Cart</f:facet>
        <h:column>
          <f:facet name="header">Title</f:facet>
          #{item.title}
        </h:column>
        <h:column>
          <f:facet name="header">Author</f:facet>
          #{item.author}
        </h:column>
        <h:column>
          <f:facet name="header">Unit Price ($)</f:facet>
          #{item.dollarPrice}
        </h:column>
        <h:column>
          <f:facet name="header">Quantity</f:facet>
          #{shoppingCart.order[item]}
        </h:column>
        <h:column>
          <f:facet name="header">Sub Total ($)</f:facet>
          #{shoppingCart.order.getSubtotalAsString(item)}
        </h:column>
      </h:dataTable>
      <p>TOTAL:
        <h:outputText value="#{shoppingCart.order.getTotalAsString()}"/></p>
      <p>Your order was placed on
        <h:outputText value="#{shoppingCart.date}."/></p>
    </div>
  </h:body>
</html>
